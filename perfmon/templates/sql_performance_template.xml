<DataCollectorSet>
    <Status>1</Status>
    <Duration>0</Duration>
    <Description>SQL Server Performance Monitoring</Description>
    <DisplayName>SQL Server Performance Counters</DisplayName>
    <SchedulesEnabled>0</SchedulesEnabled>
    <PerformanceCounterDataCollector>
        <DataCollectorType>0</DataCollectorType>
        <Name>SQL Server Performance Counters</Name>
        <FileName>sql_performance</FileName>
        <FileNameFormat>3</FileNameFormat>
        <LogAppend>0</LogAppend>
        <LogCircular>0</LogCircular>
        <LogOverwrite>0</LogOverwrite>
        <SampleInterval>1</SampleInterval>
        <LogFileFormat>3</LogFileFormat>
        <!-- CPU and System Counters -->
        <Counter>\Processor(_Total)\% Processor Time</Counter>
        <Counter>\System\Processor Queue Length</Counter>
        
        <!-- Memory Counters -->
        <Counter>\Memory\Available MBytes</Counter>
        <Counter>\Memory\Pages/sec</Counter>
        
        <!-- Disk I/O and Latency Counters -->
        <Counter>\PhysicalDisk(_Total)\% Disk Time</Counter>
        <Counter>\PhysicalDisk(_Total)\Disk Reads/sec</Counter>
        <Counter>\PhysicalDisk(_Total)\Disk Writes/sec</Counter>
        <Counter>\PhysicalDisk(_Total)\Avg. Disk sec/Read</Counter>
        <Counter>\PhysicalDisk(_Total)\Avg. Disk sec/Write</Counter>
        <Counter>\PhysicalDisk(_Total)\Current Disk Queue Length</Counter>
        <Counter>\PhysicalDisk(_Total)\Disk Bytes/sec</Counter>
        
        <!-- Network Counters -->
        <Counter>\Network Interface(*)\Bytes Total/sec</Counter>
        
        <!-- SQL Server General Statistics -->
        <Counter>\SQLServer:General Statistics\User Connections</Counter>
        <Counter>\SQLServer:General Statistics\Processes blocked</Counter>
        
        <!-- SQL Server SQL Statistics -->
        <Counter>\SQLServer:SQL Statistics\Batch Requests/sec</Counter>
        <Counter>\SQLServer:SQL Statistics\SQL Compilations/sec</Counter>
        <Counter>\SQLServer:SQL Statistics\SQL Re-Compilations/sec</Counter>
        
        <!-- SQL Server Buffer Manager -->
        <Counter>\SQLServer:Buffer Manager\Buffer cache hit ratio</Counter>
        <Counter>\SQLServer:Buffer Manager\Page life expectancy</Counter>
        <Counter>\SQLServer:Buffer Manager\Lazy writes/sec</Counter>
        <Counter>\SQLServer:Buffer Manager\Checkpoint pages/sec</Counter>
        
        <!-- SQL Server Memory Manager -->
        <Counter>\SQLServer:Memory Manager\Memory Grants Pending</Counter>
        
        <!-- SQL Server Access Methods -->
        <Counter>\SQLServer:Access Methods\Page Splits/sec</Counter>
        <Counter>\SQLServer:Access Methods\Full Scans/sec</Counter>
        
        <!-- SQL Server Locks -->
        <Counter>\SQLServer:Locks(_Total)\Lock Waits/sec</Counter>
        <Counter>\SQLServer:Locks(_Total)\Lock Wait Time (ms)</Counter>
        <Counter>\SQLServer:Locks(_Total)\Number of Deadlocks/sec</Counter>
        
        <!-- SQL Server Databases -->
        <Counter>\SQLServer:Databases(_Total)\Log Flushes/sec</Counter>
        <Counter>\SQLServer:Databases(_Total)\Log Flush Wait Time</Counter>
    </PerformanceCounterDataCollector>
</DataCollectorSet>
